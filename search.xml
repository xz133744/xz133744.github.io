<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>Markdown图片路径问题及git bash无法中断问题</title>
    <url>/post/1d96212d.html</url>
    <content><![CDATA[<font face="ZhuZiAWan" size=3>

<h1 id="一、markdown图片相对路径问题"><a href="#一、markdown图片相对路径问题" class="headerlink" title="一、markdown图片相对路径问题"></a>一、markdown图片相对路径问题</h1><p>Typora本地插入图片的路径有两种方式：一个是绝对路径，一个是相对路径（相对于当前文件所在的路径）</p>
<p>Hexo通过<code>hexo-renderer-marked</code>插件实现了对markdown语法的支持，其中默认插入图片的方式为 <code>![](/images/image.jpg)</code> ，它是一个相对路径（相对于Hexo工作目录下的 <code>source</code> 文件夹）的方式。为了方便相对路径的引用，hexo提供了一个配置属性：<code>post_asset_folder</code>,在hexo根目录下的配置文件<code>_config.yml</code>中将<code>post_asset_folder</code>设置为<code>true</code> ：    </p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># _config.yml</span></span><br><span class="line"><span class="attr">post_asset_folder:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>

<p>该功能打开后，Hexo将会在你每一次通过 <code>hexo new [layout] &lt;title&gt;</code> 命令创建新文章时自动创建一个文件夹和一个markdown文件。例如，我使用 <code>hexo new blog</code> 创建了一篇文章 <code>blog.md</code> ，会同时在该文章文件所在的路径上创建文件夹 <code>blog/</code>，我们在该文件夹里面添加图片 <code>blog/my.png</code>，这时我们在 <code>blog.md</code> 文件中插入该图片的方式为 <code>![](my.png)</code> 就可以了。</p>
<p>这个资源文件夹名与这个文章文件名相同。将所有与你的文章有关的资源（如图片）放在这个关联文件夹中之后，你可以通过相对路径来引用它们。</p>
<p>但在typora中不使用<code>![](my.png)</code>这种图片格式，typora会将其转化为<code>&#123;% asset_img my.png %&#125;</code>形式，所有在typora使用相对路径引入图片需要借助插件完成，网上大多数资料推荐的插件是<code>hexo-asset-image</code>，但我清测没有效，我使用的是<code>hexo-image-link</code>插件，是将markdown图片路径转换为asset_img语法，使得图片能够同时显示在typora和hexo上。</p>
<p>只需要两步：</p>
<h3 id="1-安装插件hexo-image-link"><a href="#1-安装插件hexo-image-link" class="headerlink" title="1.安装插件hexo-image-link"></a>1.安装插件<code>hexo-image-link</code></h3><p>根目录git bash输入命令:</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">npm install hexo-image-link --save</span><br></pre></td></tr></table></figure>

<h3 id="2-打开Hexo资源管理配置开关"><a href="#2-打开Hexo资源管理配置开关" class="headerlink" title="2.打开Hexo资源管理配置开关"></a>2.打开Hexo资源管理配置开关</h3><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># _config.yml</span></span><br><span class="line"><span class="attr">post_asset_folder:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>



<p>展示：</p>
<p>因为我的typora设置： 格式-&gt;图像-&gt;设置图片根目录，所以我此时的引用不需要文件夹路径</p>
<p>此时我的路径是<code>/2038608.jpg</code></p>
<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">![<span class="string">风景</span>](<span class="link">/2038608.jpg</span>)</span><br></pre></td></tr></table></figure>

<p>接下来你可以看到本篇博客显示如下图片：</p>
<img src="/post/1d96212d/2038608.jpg" class="" title="风景">

<h1 id="二、Git-Bash中按下Ctrl-C无法中断hexo-s的解决方法"><a href="#二、Git-Bash中按下Ctrl-C无法中断hexo-s的解决方法" class="headerlink" title="二、Git Bash中按下Ctrl+C无法中断hexo s的解决方法"></a>二、Git Bash中按下Ctrl+C无法中断hexo s的解决方法</h1><p>在git bash启动<code>hexo server</code>后经常出现ctrl+c无法关闭服务器的情况，这时我们只需要打开<code>cmd</code>，然后输入<code>taskkill /F /IM node.exe</code>，</p>
<figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line"><span class="built_in">taskkill</span> /F /IM node.exe</span><br></pre></td></tr></table></figure>

<p>即可关闭所有node脚本占用的端口从而关闭服务器。</p>
</font>
]]></content>
      <categories>
        <category>hexo</category>
        <category>markdown</category>
      </categories>
      <tags>
        <tag>hexo</tag>
        <tag>markdown</tag>
      </tags>
  </entry>
  <entry>
    <title>报错日志：安卓插件引入和项目版本兼容问题</title>
    <url>/post/3b7f2b28.html</url>
    <content><![CDATA[<font face="ZhuZiAWan" size=3>

<h1 id="一、Android-Studio项目插件引入"><a href="#一、Android-Studio项目插件引入" class="headerlink" title="一、Android Studio项目插件引入"></a>一、Android Studio项目插件引入</h1><p>在引入别人的安卓文件时发生了报错</p>
<h3 id="问题："><a href="#问题：" class="headerlink" title="问题："></a>问题：</h3><div class="note danger modern"><p>Caused by: org.gradle.api.internal.plugins.PluginApplicationException: Failed to apply plugin ‘com.android.internal.application’.</p>
</div>

<h3 id="解决"><a href="#解决" class="headerlink" title="解决"></a>解决</h3><p>在<code>gradle.properties</code>添加<code>android.overridePathCheck=true</code>即可</p>
<img src="/post/3b7f2b28/1.png" class="" title="image-20230524144658745">

<img src="/post/3b7f2b28/2.png" class="" title="image-20230524144751980">

<p>引入后点击Try Again继续下载依赖包</p>
<p><img src="/post/3b7f2b28/3.png" alt="image-20230524145110593"></p>
<h1 id="二、项目版本不兼容问题"><a href="#二、项目版本不兼容问题" class="headerlink" title="二、项目版本不兼容问题"></a>二、项目版本不兼容问题</h1><p>引入插件后继续下载sdk时发生报错</p>
<div class="note danger modern"><p>The project is using an incompatible version (AGP 8.0.1) of the Android Gradle plugin. Latest supported version is AGP 7.4.2</p>
</div>

<p>意思是：</p>
<div class="note info modern"><p>使用该 “ Android Studio Dolphin “ 版本的 Android Studio , 最高只能配置的 Android Gradle 插件的版本为 7.3.1 ;</p>
</div>

<p>这是因为他用Mac 创建了该项目，而在 Mac 中创建的项目 , 自动生成的 Android Gradle 插件 版本是 7.4.2 , 说明 Mac 中项目版本号是 “ Electric Eel | 2022.1.1 “ 或者更高的版本 ;</p>
<p>将 <code>build.gradle</code> 构建脚本中的 <code>com.android.application</code> 插件 和 <code>com.android.library</code> 插件的版本修改为 <code>7.3.1</code> , 即可完成编译 ;</p>
<p>找到 <code>build.gradle</code>  :</p>
<p><img src="/post/3b7f2b28/4.png" alt="image-20230524150433874"></p>
<p>将两个版本号都修改为<code>7.3.1</code>,点击Try Again可以继续执行依赖</p>
<p><img src="/post/3b7f2b28/5.png" alt="image-20230524151121493"></p>
</font>
]]></content>
      <categories>
        <category>报错</category>
        <category>安卓</category>
      </categories>
      <tags>
        <tag>报错</tag>
        <tag>安卓</tag>
      </tags>
  </entry>
  <entry>
    <title>test</title>
    <url>/post/d87f7e0c.html</url>
    <content><![CDATA[<div class="tabs" id="test1"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#test1-1">111</button></li><li class="tab"><button type="button" data-href="#test1-2">test1 2</button></li><li class="tab"><button type="button" data-href="#test1-3">test1 3</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="test1-1"><p><strong>This is Tab 1.</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test1-2"><p><strong>This is Tab 2.</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test1-3"><p><strong>This is Tab 3.</strong></p>
<p>1</p>
<p>1</p>
<p>1</p>
<p>1</p>
<p>1</p>
<p>1</p>
<p>1</p>
<p>1</p>
<p>1</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>

<hr>
<div class="timeline undefined"><div class='timeline-item headline'><div class='timeline-item-title'><div class='item-circle'><p>2022</p>
</div></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>01-02</p>
</div></div><div class='timeline-item-content'><p>这是测试页面</p>
</div></div></div>



<div class="flink"><div class="flink-name">友情链接</div><div class="flink-desc">那些人，那些事</div> <div class="flink-list">
          <div class="flink-list-item">
            <a href="https://jerryc.me/" title="JerryC" target="_blank">
              <div class="flink-item-icon">
                <img class="no-lightbox" src="https://jerryc.me/img/avatar.png" onerror='this.onerror=null;this.src="/img/friend_404.gif"' alt="JerryC" />
              </div>
              <div class="flink-item-name">JerryC</div> 
              <div class="flink-item-desc" title="今日事,今日毕">今日事,今日毕</div>
            </a>
          </div>
          <div class="flink-list-item">
            <a href="https://hexo.io/zh-tw/" title="Hexo" target="_blank">
              <div class="flink-item-icon">
                <img class="no-lightbox" src="https://d33wubrfki0l68.cloudfront.net/6657ba50e702d84afb32fe846bed54fba1a77add/827ae/logo.svg" onerror='this.onerror=null;this.src="/img/friend_404.gif"' alt="Hexo" />
              </div>
              <div class="flink-item-name">Hexo</div> 
              <div class="flink-item-desc" title="快速、简单且强大的网志框架">快速、简单且强大的网志框架</div>
            </a>
          </div></div></div>

<div class="abc-music-sheet">X:1
T:alternate heads
M:C
L:1/8
U:n=!style=normal!
K:C treble style=rhythm
&quot;Am&quot; BBBB B2 B&gt;B | &quot;Dm&quot; B2 B/B/B &quot;C&quot; B4 |&quot;Am&quot; B2 nGnB B2 nGnA | &quot;Dm&quot; nDB/B/ nDB/B/ &quot;C&quot; nCB/B/ nCB/B/ |B8| B0 B0 B0 B0 |]
%%text This translates to:
[M:C][K:style=normal]
[A,EAce][A,EAce][A,EAce][A,EAce] [A,EAce]2 [A,EAce]&gt;[A,EAce] |[DAdf]2 [DAdf]/[DAdf]/[DAdf] [CEGce]4 |[A,EAce]2 GA [A,EAce] GA |D[DAdf]/[DAdf]/ D[DAdf]/[DAdf]/ C [CEGce]/[CEGce]/ C[CEGce]/[CEGce]/ |[CEGce]8 | [CEGce]2 [CEGce]2 [CEGce]2 [CEGce]2 |]
GAB2 !style=harmonic![gb]4|GAB2 [K: style=harmonic]gbgb|
[K: style=x]
C/A,/ C/C/E C/zz2|
w:Rock-y did-nt like that</div>




<p>作者: Jerry<br>連結: <a href="https://butterfly.js.org/posts/4aa8abbe/#Tabs">https://butterfly.js.org/posts/4aa8abbe/#Tabs</a><br>來源: Butterfly<br>著作權歸作者所有。商業轉載請聯絡作者獲得授權，非商業轉載請註明出處。</p>
]]></content>
  </entry>
  <entry>
    <title>微信小程序的组件间通信</title>
    <url>/post/18c75403.html</url>
    <content><![CDATA[<font face="ZhuZiAWan" size=3>

<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><div class="note none blue flat"><p>在微信小程序的组件通信中有3种方式：</p>
</div>

<ol>
<li><h3 id="属性绑定"><a href="#属性绑定" class="headerlink" title="属性绑定"></a>属性绑定</h3><ul>
<li>用于父组件向子组件的指定属性设置数据，但仅能设置<strong>JSON</strong>兼容的格式数据</li>
</ul>
</li>
<li><h3 id="事件绑定"><a href="#事件绑定" class="headerlink" title="事件绑定"></a>事件绑定</h3><ul>
<li>用于子组件向父组件传递数据，可以传递任意数据</li>
</ul>
</li>
<li><h3 id="获取组件实例"><a href="#获取组件实例" class="headerlink" title="获取组件实例"></a>获取组件实例</h3><ul>
<li>父组件还可以通过<code>this.selectComponent()</code>获取子组件实例对象</li>
<li>这样就可以直接访问子组件的任意数据和方法</li>
</ul>
</li>
</ol>
<p>总而言之也就是父传子和子传父两种，这是核心知识但比较绕，于是写篇博客记录下方便之后的使用和记忆。</p>
<h1 id="属性绑定-父传子"><a href="#属性绑定-父传子" class="headerlink" title="属性绑定(父传子)"></a>属性绑定(父传子)</h1><h2 id="准备例子"><a href="#准备例子" class="headerlink" title="准备例子"></a>准备例子</h2><p>此时我们有一个子组件<code>test5(components)</code>和一个父组件<code>home(pages)</code>，在父组件定义了一个按钮和事件<code>bindtap()</code>,每当点击按钮时，<strong>count</strong>的值会被动态+1，现在我们需要将该<strong>count</strong>值传入子组件<code>test5</code>中，让按钮点击时两个页面的<strong>count</strong>都动态+1</p>
<p><strong>子组件：</strong></p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">view</span>&gt;</span>&#123;&#123;count&#125;&#125;<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure>



<p><strong>父组件：</strong></p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">view</span>&gt;</span>父组件中count值是:&#123;&#123;count&#125;&#125;<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">view</span>&gt;</span>------------------------------<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">my-test5</span>&gt;</span><span class="tag">&lt;/<span class="name">my-test5</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">bindtap</span>=<span class="string">&quot;btnAdd&quot;</span>&gt;</span>+1<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="attr">data</span>: &#123;</span><br><span class="line">    <span class="attr">count</span>: <span class="number">0</span></span><br><span class="line">  &#125;,</span><br><span class="line"><span class="title function_">btnAdd</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">setData</span>(&#123;</span><br><span class="line">      <span class="attr">count</span>:<span class="variable language_">this</span>.<span class="property">data</span>.<span class="property">count</span> + <span class="number">1</span></span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;,</span><br></pre></td></tr></table></figure>

<p><strong>此时页面的效果：</strong></p>
<p><img src="/post/18c75403/1.png" alt="image-20230526175003759"></p>
<p>这时候点击按钮只有父组件的<strong>count</strong>会+1，因为子组件中没有定义<strong>count</strong>这个值，我们可以通过<strong>properties</strong>结点给子组件传入<strong>count</strong></p>
<p>在<code>test5.js</code>的<strong>Component</strong>下添加<code>properties</code>:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="attr">properties</span>: &#123;</span><br><span class="line">    <span class="attr">count</span>:<span class="title class_">Number</span></span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<p><strong>count</strong>的形式也可以为一个对象如:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="attr">properties</span>: &#123;</span><br><span class="line">    <span class="attr">count</span>: &#123;</span><br><span class="line">      <span class="attr">type</span>: <span class="title class_">Number</span>,</span><br><span class="line">      <span class="attr">value</span>: <span class="number">0</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<p>这里的<strong>value</strong>是给传入的<strong>count</strong>设置一个默认值，例子中的<strong>count</strong>随父组件动态变化，不需要默认值，所以这里简写为数据类型的形式就行。</p>
<p>随后在<code>home</code>页面的组件标签中添加属性<code>count=&quot;&#123;&#123;count&#125;&#125;&quot;</code>：</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">view</span>&gt;</span>父组件中count值是:&#123;&#123;count&#125;&#125;<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">view</span>&gt;</span>------------------------------<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">my-test5</span> <span class="attr">count</span>=<span class="string">&quot;&#123;&#123;count&#125;&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">my-test5</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">bindtap</span>=<span class="string">&quot;btnAdd&quot;</span>&gt;</span>+1<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>这样就完成了父组件给子组件传值。</p>
<hr>
<h1 id="事件绑定-子传父"><a href="#事件绑定-子传父" class="headerlink" title="事件绑定(子传父)"></a>事件绑定(子传父)</h1><h2 id="准备例子-1"><a href="#准备例子-1" class="headerlink" title="准备例子"></a>准备例子</h2><p>取上述例子，将按钮和方法都移到子组件中，此时子组件中定义了<strong>count</strong>及其方法而父组件没有，我们需要将子组件的<strong>count</strong>传入父组件</p>
<div class="note danger flat"><p><font color="red" size=4>注意</font>：compnents页面的方法只能写在methods中</p>
</div>

<p>注意：</p>
<p><strong>子组件：</strong></p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">view</span>&gt;</span>&#123;&#123;count&#125;&#125;<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">bindtap</span>=<span class="string">&quot;btnAdd&quot;</span>&gt;</span>+1<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="attr">data</span>: &#123;</span><br><span class="line">    <span class="attr">count</span>:<span class="number">0</span></span><br><span class="line">  &#125;,</span><br><span class="line"><span class="attr">methods</span>: &#123;</span><br><span class="line">  <span class="title function_">btnAdd</span>(<span class="params"></span>)&#123;</span><br><span class="line">  	<span class="variable language_">this</span>.<span class="title function_">setData</span>(&#123;</span><br><span class="line">  		<span class="attr">count</span>:<span class="variable language_">this</span>.<span class="property">data</span>.<span class="property">count</span> + <span class="number">1</span></span><br><span class="line">  	&#125;)</span><br><span class="line">  &#125;,</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>

<p><strong>父组件：</strong></p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">view</span>&gt;</span>父组件中count值是:&#123;&#123;count&#125;&#125;<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">view</span>&gt;</span>------------------------------<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">my-test5</span> <span class="attr">count</span>=<span class="string">&quot;&#123;&#123;count&#125;&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">my-test5</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ol>
<li><h3 id="在父组件中js文件定义一个自定义方法syncCount-："><a href="#在父组件中js文件定义一个自定义方法syncCount-：" class="headerlink" title="在父组件中js文件定义一个自定义方法syncCount()："></a>在<font color="#c34c60">父组件</font>中<strong>js文件</strong>定义一个自定义方法<code>syncCount()</code>：</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="attr">data</span>: &#123;</span><br><span class="line">    <span class="attr">count</span>: <span class="number">0</span></span><br><span class="line">  &#125;,</span><br><span class="line"><span class="title function_">syncCount</span>(<span class="params"></span>)&#123;</span><br><span class="line">	<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;sycnCount&#x27;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><h3 id="改写父组件的wxml，添加自定义事件的函数引用："><a href="#改写父组件的wxml，添加自定义事件的函数引用：" class="headerlink" title="改写父组件的wxml，添加自定义事件的函数引用："></a>改写<font color="#c34c60">父组件</font>的<strong>wxml</strong>，添加自定义事件的函数引用：</h3><div class="note none blue flat"><p><code>bind:sync=&quot;syncCount&quot;</code>中的sync是自定义事件的名称</p>
</div>

<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">view</span>&gt;</span>父组件中count值是:&#123;&#123;count&#125;&#125;<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">view</span>&gt;</span>------------------------------<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">my-test5</span> <span class="attr">count</span>=<span class="string">&quot;&#123;&#123;count&#125;&#125;&quot;</span> <span class="attr">bind:sync</span>=<span class="string">&quot;syncCount&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">my-test5</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><h3 id="改写子组件的btnAdd-方法，使点击按钮触发btnAdd-的同时也触发自定义事件："><a href="#改写子组件的btnAdd-方法，使点击按钮触发btnAdd-的同时也触发自定义事件：" class="headerlink" title="改写子组件的btnAdd()方法，使点击按钮触发btnAdd()的同时也触发自定义事件："></a>改写<font color="#c34c60">子组件</font>的<code>btnAdd()</code>方法，使点击按钮触发<code>btnAdd()</code>的同时也触发自定义事件：</h3><div class="note warning no-icon flat"><p><code>this.triggerEvent()</code>可以用于调用自定义事件，形式为this.triggerEvent(‘自定义事件名称”,{ 参数对象})</p>
</div>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="attr">data</span>: &#123;</span><br><span class="line">    <span class="attr">count</span>:<span class="number">0</span></span><br><span class="line">  &#125;,</span><br><span class="line"><span class="attr">methods</span>: &#123;</span><br><span class="line">    <span class="title function_">btnAdd</span>(<span class="params"></span>)&#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="title function_">setData</span>(&#123;</span><br><span class="line">        <span class="attr">count</span>:<span class="variable language_">this</span>.<span class="property">data</span>.<span class="property">count</span> + <span class="number">1</span></span><br><span class="line">      &#125;)</span><br><span class="line">      <span class="comment">//触发自定义事件</span></span><br><span class="line">      <span class="variable language_">this</span>.<span class="title function_">triggerEvent</span>(<span class="string">&#x27;sync&#x27;</span>,&#123;<span class="attr">value</span>:<span class="variable language_">this</span>.<span class="property">data</span>.<span class="property">count</span>&#125;)</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
</li>
<li><h3 id="改写父组件的js："><a href="#改写父组件的js：" class="headerlink" title="改写父组件的js："></a>改写<font color="#c34c60">父组件</font>的<strong>js</strong>：</h3></li>
</ol>
<p>设置一个接受参数，此时控制台打印出来的<strong>e</strong>就是当前是自定义事件<strong>sync</strong>的属性,<strong>e.detail.value</strong>就是我们通过自定义事件传入父组件的值，即当前<strong>count</strong>的值</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="title function_">syncCount</span>(<span class="params">e</span>)&#123;</span><br><span class="line">	<span class="variable language_">console</span>.<span class="title function_">log</span>(e.<span class="property">detail</span>.<span class="property">value</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>此时，我们可以将接收到的值同步到父组件的<strong>data</strong>：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="title function_">syncCount</span>(<span class="params">e</span>)&#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">setData</span>(&#123;</span><br><span class="line">      <span class="attr">count</span>:e.<span class="property">detail</span>.<span class="property">value</span></span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;,</span><br></pre></td></tr></table></figure>

<p>这样就可以愉快地在父组件中使用<strong>count</strong>了</p>
<h1 id="获取组件实例-一般为子传父"><a href="#获取组件实例-一般为子传父" class="headerlink" title="获取组件实例(一般为子传父)"></a>获取组件实例(一般为子传父)</h1><p>可在父组件里调用**this. selectComponent(“id或class选择器”)<strong>，获取子组件的实例对象,从而直接访问子组件的任意数据和方法。调用时需要传入一个选择器，例如</strong>this.selectComponent(“.my-component”)**。</p>
<p>如果只是用于传值，该方法是不常用的。所以这里不多赘述，使用一个简单的例子来展示。</p>
<h3 id="在父组件的wxml页面引用子组件，并给子组件的标签加上一个类名或一个id"><a href="#在父组件的wxml页面引用子组件，并给子组件的标签加上一个类名或一个id" class="headerlink" title="在父组件的wxml页面引用子组件，并给子组件的标签加上一个类名或一个id"></a>在父组件的wxml页面引用子组件，并给子组件的标签加上一个类名或一个id</h3><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">my-test5</span> <span class="attr">class</span>=<span class="string">&quot;customA&quot;</span> <span class="attr">id</span>=<span class="string">&quot;cA&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">my-test5</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">bindtap</span>=<span class="string">&quot;getChild&quot;</span>&gt;</span>获取子组件实例<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="在父组件的js文件中调用getChild"><a href="#在父组件的js文件中调用getChild" class="headerlink" title="在父组件的js文件中调用getChild()"></a>在父组件的js文件中调用getChild()</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="attr">data</span>: &#123;</span><br><span class="line">    <span class="attr">count</span>:<span class="number">0</span></span><br><span class="line">  &#125;,</span><br><span class="line"><span class="title function_">getChild</span>(<span class="params"></span>)&#123;</span><br><span class="line">      <span class="comment">//下面的参数不能选择标签选择器&#x27;my-test5&#x27;，不然返回的是null</span></span><br><span class="line">      <span class="keyword">const</span> child = <span class="variable language_">this</span>.<span class="title function_">selectComponent</span>(<span class="string">&#x27;.customA&#x27;</span>)</span><br><span class="line">      <span class="comment">// 或者</span></span><br><span class="line">      <span class="comment">// const child = this.selectComponent(&#x27;#cA&#x27;)</span></span><br><span class="line">      child.<span class="title function_">setData</span>(&#123;</span><br><span class="line">        <span class="attr">count</span>:child.<span class="property">data</span>.<span class="property">count</span> + <span class="number">1</span></span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;,</span><br></pre></td></tr></table></figure>

<p>这样很轻松的就能获取到子组件中<strong>data</strong>的值</p>
<div class="note red icon-padding simple"><i class="note-icon fas fa-car-crash"></i><p><font color='red' size=4>注意：</font><font color='#d67b7f'>selectComponent(‘选择器’)里的选择器只能选择类选择器和id选择器，如果选择标签选择器会返回null</font></p>
</div>

<p><strong></font></strong></p>
]]></content>
      <categories>
        <category>微信小程序</category>
      </categories>
      <tags>
        <tag>微信小程序</tag>
      </tags>
  </entry>
</search>
